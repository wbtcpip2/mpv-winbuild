From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
Subject: [PATCH] minimal mpv build: disable smtc, vapoursynth, lua, osc, mpv.exe

---
 meson.build        | 12 ++++++------
 meson_options.txt  |  6 +++---
 player/lua/defaults.lua | 4 ++--
 3 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/meson.build b/meson.build
index 1111111..2222222 100644
--- a/meson.build
+++ b/meson.build
@@ -350,7 +350,6 @@ sources += files(
     'audio/out/ao_null.c',
     'audio/out/ao_pcm.c',
     'audio/out/ao_wasapi.c',
-    'osdep/windows/smtc.cpp',
 )

@@ -900,12 +899,11 @@ executable('mpv',
     sources,
     dependencies: deps,
     install: true,
-)
+    build_by_default: false,
+    install: false,
+)
 
-# mpv executable removed
-
-
+# mpv executable disabled (libmpv only)

diff --git a/meson_options.txt b/meson_options.txt
index 1111111..2222222 100644
--- a/meson_options.txt
+++ b/meson_options.txt
@@ -80,7 +80,7 @@ option('javascript', type: 'feature', value: 'auto')
 option('libmpv', type: 'feature', value: 'enabled')
 option('lua', type: 'feature', value: 'auto')
-option('lua', type: 'feature', value: 'auto')
+option('lua', type: 'feature', value: 'disabled')

@@ -120,7 +120,7 @@ option('zimg', type: 'feature', value: 'auto')
 option('lcms2', type: 'feature', value: 'auto')
 option('rubberband', type: 'feature', value: 'auto')
-option('vapoursynth', type: 'feature', value: 'auto')
+option('vapoursynth', type: 'feature', value: 'disabled')

diff --git a/player/lua/defaults.lua b/player/lua/defaults.lua
index 1111111..2222222 100644
--- a/player/lua/defaults.lua
+++ b/player/lua/defaults.lua
@@ -1,4 +1,4 @@
--- load OSC
+-- OSC disabled

--- load OSC
+-- OSC disabled
