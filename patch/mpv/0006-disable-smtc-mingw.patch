--- a/osdep/win32/meson.build
+++ b/osdep/win32/meson.build
@@ -1,6 +1,12 @@
 win32_sources = files(
     'win32_utils.c',
 )

+# Disable SMTC on MinGW (GCC) because C++/WinRT coroutines fail to compile
+cpp = meson.get_compiler('cpp')
+if cpp.get_id() != 'gcc'
+    win32_sources += files('smtc.cpp')
+endif
+
 install_headers(win32_sources, subdir: 'mpv/win32')
